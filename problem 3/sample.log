INFO      2024-11-11 16:39:12 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-11 16:39:12 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-11 16:39:12 - [Uvicorn] Shutting down
INFO      2024-11-11 16:39:12 - [Uvicorn] Waiting for application shutdown.
INFO      2024-11-11 16:39:12 - [Uvicorn] Application shutdown complete.
INFO      2024-11-11 16:39:12 - [Uvicorn] Finished server process [7]
INFO      2024-11-10 07:42:50 - [Uvicorn/Access] 192.168.0.106:52566 - "GET /docs HTTP/1.1" 200 OK
INFO      2024-11-10 07:42:50 - [Uvicorn/Access] 192.168.0.106:52566 - "GET /openapi.json HTTP/1.1" 200 OK
INFO      2024-11-10 14:26:06 - [Uvicorn/Access] 172.22.0.1:58454 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-11-10 14:30:08 - [Uvicorn/Access] 172.22.0.1:42448 - "GET /task/9e2a6d0690a546a7899e238a06e01c25/status HTTP/1.1" 200 OK
INFO      2024-11-10 14:30:08 - [Uvicorn/Access] 172.22.0.1:42448 - "GET /task/9e2a6d0690a546a7899e238a06e01c25/result HTTP/1.1" 200 OK
INFO      2024-11-10 16:18:28 - [Uvicorn/Access] 172.22.0.1:57664 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-11-10 16:18:40 - [Uvicorn/Access] 172.22.0.1:43234 - "GET /task/f9dde934c04448e8966cf11bc633cb89/status HTTP/1.1" 200 OK
INFO      2024-11-10 16:18:40 - [Uvicorn/Access] 172.22.0.1:43234 - "GET /task/f9dde934c04448e8966cf11bc633cb89/result HTTP/1.1" 200 OK
INFO      2024-11-10 07:16:08 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-10 07:16:08 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-10 07:16:08 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-10 07:16:08 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-10 07:16:08 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-10 08:56:36 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-10 08:58:01 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-10 08:58:01 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-10 08:58:01 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-10 08:58:01 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-10 08:58:01 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-10 14:26:06 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 9e2a6d0690a546a7899e238a06e01c25
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-11-10 14:26:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:208) Use pytorch device_name: cpu
INFO      2024-11-10 14:26:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:216) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-11-10 14:26:23 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-11-10 16:18:28 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: f9dde934c04448e8966cf11bc633cb89
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-11-10 16:18:28 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:208) Use pytorch device_name: cpu
INFO      2024-11-10 16:18:28 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:216) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-11-10 16:18:32 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-11-10 17:22:42 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-10 19:27:28 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-10 19:27:28 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-10 19:27:28 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-10 19:27:28 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-10 19:27:28 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-10 07:16:08 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-10 07:16:08 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-10 07:16:08 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-10 07:16:08 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-10 07:16:08 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-10 08:56:36 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-10 08:58:01 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-10 08:58:01 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-10 08:58:01 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-10 08:58:01 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-10 08:58:01 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-11-10 14:26:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-11-10 14:26:23 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:23 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 14:26:24 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-11-10 16:18:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-11-10 16:18:32 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-11-10 16:18:32 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-11-10 17:22:42 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-10 19:27:28 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-10 19:27:28 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-10 19:27:28 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-10 19:27:28 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-10 19:27:28 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-10 07:16:08 - [Uvicorn] Started server process [7]
INFO      2024-11-10 07:16:08 - [Uvicorn] Waiting for application startup.
INFO      2024-11-10 07:16:08 - [Uvicorn] Application startup complete.
INFO      2024-11-10 07:16:08 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-11-10 08:56:36 - [Uvicorn] Shutting down
INFO      2024-11-10 08:56:36 - [Uvicorn] Waiting for application shutdown.
INFO      2024-11-10 08:56:36 - [Uvicorn] Application shutdown complete.
INFO      2024-11-10 08:56:36 - [Uvicorn] Finished server process [7]
INFO      2024-11-10 08:58:01 - [Uvicorn] Started server process [7]
INFO      2024-11-10 08:58:01 - [Uvicorn] Waiting for application startup.
INFO      2024-11-10 08:58:01 - [Uvicorn] Application startup complete.
INFO      2024-11-10 08:58:01 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-11-10 17:22:42 - [Uvicorn] Shutting down
INFO      2024-11-10 17:22:42 - [Uvicorn] Waiting for application shutdown.
INFO      2024-11-10 17:22:42 - [Uvicorn] Application shutdown complete.
INFO      2024-11-10 17:22:42 - [Uvicorn] Finished server process [7]
INFO      2024-11-10 19:27:28 - [Uvicorn] Started server process [7]
INFO      2024-11-10 19:27:28 - [Uvicorn] Waiting for application startup.
INFO      2024-11-10 19:27:28 - [Uvicorn] Application startup complete.
INFO      2024-11-10 19:27:28 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-11-09 04:44:54 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-09 04:44:54 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-09 04:44:54 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-09 04:44:54 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-09 04:44:54 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-09 04:45:56 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-09 04:44:54 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-11-09 04:44:54 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-11-09 04:44:54 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-11-09 04:44:54 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-11-09 04:44:54 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-11-09 04:45:56 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-11-09 04:44:54 - [Uvicorn] Started server process [7]
INFO      2024-11-09 04:44:54 - [Uvicorn] Waiting for application startup.
INFO      2024-11-09 04:44:54 - [Uvicorn] Application startup complete.
INFO      2024-11-09 04:44:54 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-11-09 04:45:56 - [Uvicorn] Shutting down
INFO      2024-11-09 04:45:56 - [Uvicorn] Waiting for application shutdown.
INFO      2024-11-09 04:45:56 - [Uvicorn] Application shutdown complete.
INFO      2024-11-09 04:45:56 - [Uvicorn] Finished server process [7]
INFO      2024-08-30 06:21:52 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-30 06:21:52 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-30 06:21:52 - [Uvicorn] Shutting down
INFO      2024-08-30 06:21:52 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-30 06:21:52 - [Uvicorn] Application shutdown complete.
INFO      2024-08-30 06:21:52 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 06:04:30 - [Uvicorn] Shutting down
INFO      2024-08-26 06:04:30 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 06:04:30 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 06:04:30 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 06:16:32 - [Uvicorn] Started server process [7]
INFO      2024-08-26 06:16:32 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 06:16:32 - [Uvicorn] Application startup complete.
INFO      2024-08-26 06:16:32 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 08:03:11 - [Uvicorn] Shutting down
INFO      2024-08-26 08:03:11 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 08:03:11 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 08:03:11 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 08:17:21 - [Uvicorn] Started server process [7]
INFO      2024-08-26 08:17:21 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 08:17:21 - [Uvicorn] Application startup complete.
INFO      2024-08-26 08:17:21 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 08:27:46 - [Uvicorn] Shutting down
INFO      2024-08-26 08:27:46 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 08:27:46 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 08:27:46 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 08:29:11 - [Uvicorn] Started server process [7]
INFO      2024-08-26 08:29:11 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 08:29:11 - [Uvicorn] Application startup complete.
INFO      2024-08-26 08:29:11 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 08:31:07 - [Uvicorn] Shutting down
INFO      2024-08-26 08:31:07 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 08:31:07 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 08:31:07 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 08:32:32 - [Uvicorn] Started server process [7]
INFO      2024-08-26 08:32:32 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 08:32:32 - [Uvicorn] Application startup complete.
INFO      2024-08-26 08:32:32 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 08:33:19 - [Uvicorn] Shutting down
INFO      2024-08-26 08:33:19 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 08:33:19 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 08:33:19 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 08:49:45 - [Uvicorn] Started server process [7]
INFO      2024-08-26 08:49:45 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 08:49:45 - [Uvicorn] Application startup complete.
INFO      2024-08-26 08:49:45 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 09:08:40 - [Uvicorn] Shutting down
INFO      2024-08-26 09:08:40 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 09:08:40 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 09:08:40 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 09:18:15 - [Uvicorn] Started server process [7]
INFO      2024-08-26 09:18:15 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 09:18:15 - [Uvicorn] Application startup complete.
INFO      2024-08-26 09:18:15 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 09:29:49 - [Uvicorn] Shutting down
INFO      2024-08-26 09:29:49 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-26 09:29:49 - [Uvicorn] Application shutdown complete.
INFO      2024-08-26 09:29:49 - [Uvicorn] Finished server process [7]
INFO      2024-08-26 09:39:29 - [Uvicorn] Started server process [7]
INFO      2024-08-26 09:39:29 - [Uvicorn] Waiting for application startup.
INFO      2024-08-26 09:39:29 - [Uvicorn] Application startup complete.
INFO      2024-08-26 09:39:29 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-26 05:26:40 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: a4caae028ebc41e092a9975985c59ccd
INFO      2024-08-26 05:26:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 05:26:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
ERROR     2024-08-26 05:26:43 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: 1 validation error for OpenAIEmbeddings
__root__
  Did not find openai_api_key, please add an environment variable `OPENAI_API_KEY` which contains it, or pass `openai_api_key` as a named parameter. (type=value_error)
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 100, in _process_document
    async with self.rag_session(self._rag_config) as service, file.upload_file() as doc_file:
  File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 90, in rag_session
    session = await self._rag_session_factory(session_data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 122, in create_rag_instance_session
    embedding_model = get_embedding_model(rag_config.embedding_model)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 69, in get_embedding_model
    return embedding_cls(**model_config.init_params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/v1/main.py", line 341, in __init__
    raise validation_error
pydantic.v1.error_wrappers.ValidationError: 1 validation error for OpenAIEmbeddings
__root__
  Did not find openai_api_key, please add an environment variable `OPENAI_API_KEY` which contains it, or pass `openai_api_key` as a named parameter. (type=value_error)
WARNING   2024-08-26 05:26:43 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown 1 validation error for OpenAIEmbeddings
__root__
  Did not find openai_api_key, please add an environment variable `OPENAI_API_KEY` which contains it, or pass `openai_api_key` as a named parameter. (type=value_error)
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 100, in _process_document
    async with self.rag_session(self._rag_config) as service, file.upload_file() as doc_file:
  File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 90, in rag_session
    session = await self._rag_session_factory(session_data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 122, in create_rag_instance_session
    embedding_model = get_embedding_model(rag_config.embedding_model)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 69, in get_embedding_model
    return embedding_cls(**model_config.init_params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pydantic/v1/main.py", line 341, in __init__
    raise validation_error
pydantic.v1.error_wrappers.ValidationError: 1 validation error for OpenAIEmbeddings
__root__
  Did not find openai_api_key, please add an environment variable `OPENAI_API_KEY` which contains it, or pass `openai_api_key` as a named parameter. (type=value_error)
INFO      2024-08-26 06:04:30 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 06:16:32 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 06:16:32 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 06:16:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 06:16:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 06:16:32 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 06:17:23 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 77fec75337ec4075ae69482ecbf91fb8
INFO      2024-08-26 06:17:23 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 06:17:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 06:17:25 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 06:17:25 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 06:17:40 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 06:17:40 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:01:19 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: fb8c0c747c72474daab63e6f9ac87a28
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:01:19 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:01:19 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:01:19 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:01:19 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:04:05 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: c00935acfd7e4249b09f7c3601b585c1
INFO      2024-08-26 07:04:05 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:04:05 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:04:06 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:04:06 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:04:06 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:04:06 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:05:43 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 35890ccc354c4d3da6be49fe8b3a0c97
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:05:43 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:05:43 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:05:43 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:05:43 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:10:30 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: c72afc38cee046b9a8da2eca1f906fb0
INFO      2024-08-26 07:10:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:10:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:10:31 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:10:31 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:10:31 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:10:31 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:26:37 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 44294935f52c4a11bfddb4f13ed0f43e
INFO      2024-08-26 07:26:37 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:26:37 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:26:38 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:26:38 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:26:38 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:26:38 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:32:06 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 193cccc0a0f14caab89ca8c4b00742aa
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:32:06 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:32:06 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:32:06 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:32:06 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:37:28 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 25e516635a2f443881cc401f34a6ac09
INFO      2024-08-26 07:37:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:37:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:37:29 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:37:29 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:37:29 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:37:29 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 07:39:22 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 98a3407804b149619f3c3c2683352874
INFO      2024-08-26 07:39:22 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:39:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:39:23 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:39:23 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 07:39:23 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
WARNING   2024-08-26 07:39:23 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown libGL.so.1: cannot open shared object file: No such file or directory
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 13, in parse_document_unstructured
    from unstructured.partition.auto import partition
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 83, in <module>
    from unstructured.partition.pdf import partition_pdf
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 64, in <module>
    from unstructured.partition.pdf_image.pdf_image_utils import (
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf_image/pdf_image_utils.py", line 10, in <module>
    import cv2
ImportError: libGL.so.1: cannot open shared object file: No such file or directory
INFO      2024-08-26 08:03:11 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:17:21 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:17:21 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:17:21 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:17:21 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:17:21 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:18:40 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: ab78340c441741e3a5e4b79758bcf142
INFO      2024-08-26 08:18:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 08:18:41 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 08:18:42 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 08:18:42 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
INFO      2024-08-26 08:18:48 - [pikepdf._core] (__init__.py:13) pikepdf C++ to Python logger bridge initialized
ERROR     2024-08-26 08:18:50 - [unstructured] (pdf.py:273) 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************

WARNING   2024-08-26 08:18:50 - [unstructured] (pdf.py:274) PDF text extraction failed, skip text extraction...
INFO      2024-08-26 08:19:16 - [unstructured_inference] (layout.py:61) Reading PDF for file: /tmp/tmp7t_m80hnupload_a5trc66g.pdf ...
ERROR     2024-08-26 08:19:16 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: Unable to get page count. Is poppler installed and in PATH?
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/pdf2image/pdf2image.py", line 581, in pdfinfo_from_path
    proc = Popen(command, env=env, stdout=PIPE, stderr=PIPE)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/local/lib/python3.11/subprocess.py", line 1955, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: 'pdfinfo'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 41, in parse_document_unstructured
    return partition(**opts)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 426, in partition
    elements = _partition_pdf(
               ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/documents/elements.py", line 570, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 622, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 582, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/chunking/dispatch.py", line 83, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 201, in partition_pdf
    return partition_pdf_or_image(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 292, in partition_pdf_or_image
    elements = _partition_pdf_or_image_local(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/utils.py", line 230, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 422, in _partition_pdf_or_image_local
    inferred_document_layout = process_file_with_model(
                               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured_inference/inference/layout.py", line 396, in process_file_with_model
    else DocumentLayout.from_file(
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured_inference/inference/layout.py", line 64, in from_file
    _image_paths = convert_pdf_to_image(
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured_inference/inference/layout.py", line 433, in convert_pdf_to_image
    images = pdf2image.convert_from_path(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pdf2image/pdf2image.py", line 127, in convert_from_path
    page_count = pdfinfo_from_path(
                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pdf2image/pdf2image.py", line 607, in pdfinfo_from_path
    raise PDFInfoNotInstalledError(
pdf2image.exceptions.PDFInfoNotInstalledError: Unable to get page count. Is poppler installed and in PATH?
WARNING   2024-08-26 08:19:17 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown Unable to get page count. Is poppler installed and in PATH?
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/pdf2image/pdf2image.py", line 581, in pdfinfo_from_path
    proc = Popen(command, env=env, stdout=PIPE, stderr=PIPE)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/local/lib/python3.11/subprocess.py", line 1955, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: 'pdfinfo'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 41, in parse_document_unstructured
    return partition(**opts)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 426, in partition
    elements = _partition_pdf(
               ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/documents/elements.py", line 570, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 622, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 582, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/chunking/dispatch.py", line 83, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 201, in partition_pdf
    return partition_pdf_or_image(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 292, in partition_pdf_or_image
    elements = _partition_pdf_or_image_local(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/utils.py", line 230, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 422, in _partition_pdf_or_image_local
    inferred_document_layout = process_file_with_model(
                               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured_inference/inference/layout.py", line 396, in process_file_with_model
    else DocumentLayout.from_file(
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured_inference/inference/layout.py", line 64, in from_file
    _image_paths = convert_pdf_to_image(
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured_inference/inference/layout.py", line 433, in convert_pdf_to_image
    images = pdf2image.convert_from_path(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pdf2image/pdf2image.py", line 127, in convert_from_path
    page_count = pdfinfo_from_path(
                 ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/pdf2image/pdf2image.py", line 607, in pdfinfo_from_path
    raise PDFInfoNotInstalledError(
pdf2image.exceptions.PDFInfoNotInstalledError: Unable to get page count. Is poppler installed and in PATH?
INFO      2024-08-26 08:27:46 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:29:11 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:29:11 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:29:11 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:29:11 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:29:11 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:31:07 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:32:32 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:32:32 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:32:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:32:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:32:32 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:33:19 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:49:45 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:49:45 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:49:45 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:49:45 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:49:45 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:50:01 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 8f2df3e70a054d67b79195e7cca8b6d0
INFO      2024-08-26 08:50:01 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 08:50:01 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 08:50:03 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 08:50:03 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
INFO      2024-08-26 08:50:09 - [pikepdf._core] (__init__.py:13) pikepdf C++ to Python logger bridge initialized
ERROR     2024-08-26 08:50:11 - [unstructured] (pdf.py:273) 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************

WARNING   2024-08-26 08:50:11 - [unstructured] (pdf.py:274) PDF text extraction failed, skip text extraction...
INFO      2024-08-26 08:50:27 - [unstructured_inference] (layout.py:61) Reading PDF for file: /tmp/tmpusyak_jzupload_a1qgutbi.pdf ...
INFO      2024-08-26 08:50:27 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:50:39 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:50:50 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:51:02 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:51:14 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:51:20 - [unstructured_inference] (tables.py:139) Loading the Table agent ...
INFO      2024-08-26 08:51:20 - [unstructured_inference] (tables.py:67) Loading the table structure model ...
INFO      2024-08-26 08:51:27 - [timm.models._builder] (_builder.py:196) Loading pretrained weights from Hugging Face hub (timm/resnet18.a1_in1k)
INFO      2024-08-26 08:51:30 - [timm.models._hub] (_hub.py:184) [timm/resnet18.a1_in1k] Safe alternative available for 'pytorch_model.bin' (as 'model.safetensors'). Loading weights using safetensors.
INFO      2024-08-26 08:51:30 - [timm.models._builder] (_builder.py:254) Missing keys (fc.weight, fc.bias) discovered while loading pretrained weights. This is expected if model is being adapted.
INFO      2024-08-26 08:51:31 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:51:32 - [unstructured_inference] (tables.py:87) padding image by 20 for structure detection
INFO      2024-08-26 08:51:38 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:51:46 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:51:53 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:51:55 - [rag_langchain_baseline.pipeline] (pipeline.py:96) Adding to vectorstore...
INFO      2024-08-26 08:51:55 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [09646009aa8a9c24fc9b72b94d0a67f4]...
INFO      2024-08-26 08:51:57 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:51:57 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [f037c2f3604dc26693255888ce130442]...
INFO      2024-08-26 08:52:00 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:00 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [c12e56750774e838827f8d1b096c3e3c]...
INFO      2024-08-26 08:52:02 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:03 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [d699ac991fe8da69c3e2250c4f572ccd]...
INFO      2024-08-26 08:52:06 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:06 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [ecb4e05c62d0589c509bfe103d3292b3]...
INFO      2024-08-26 08:52:08 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:14 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:14 - [rag_langchain_using_summary.pipeline] (pipeline.py:88) Summarizing table id [f037c2f3604dc26693255888ce130442]...
INFO      2024-08-26 08:52:16 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:16 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:17 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:17 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:18 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:19 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:19 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:20 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:21 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:22 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:22 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:23 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:25 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:25 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:26 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:26 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:27 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:28 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:28 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:29 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:30 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:30 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:31 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:32 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:32 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:33 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:34 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:35 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:35 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 08:52:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 08:56:21 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: e3bfb757057e403c9387f76b826021b5
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 08:56:21 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 08:56:21 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
ERROR     2024-08-26 08:56:21 - [unstructured] (pdf.py:273) 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************

WARNING   2024-08-26 08:56:21 - [unstructured] (pdf.py:274) PDF text extraction failed, skip text extraction...
INFO      2024-08-26 08:56:21 - [unstructured_inference] (layout.py:61) Reading PDF for file: /tmp/tmpmqvzxh5iupload_25nm6v8q.pdf ...
INFO      2024-08-26 08:56:23 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:56:36 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:56:48 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:56:59 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:57:11 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:57:22 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:57:34 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:57:45 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:57:57 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:58:09 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:58:21 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:58:33 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:58:44 - [unstructured_inference] (layout.py:182) Detecting page elements ...
INFO      2024-08-26 08:58:57 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:02 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:04 - [unstructured_inference] (tables.py:87) padding image by 20 for structure detection
INFO      2024-08-26 08:59:08 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:10 - [unstructured_inference] (tables.py:87) padding image by 20 for structure detection
INFO      2024-08-26 08:59:16 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:25 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:31 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:32 - [unstructured_inference] (tables.py:87) padding image by 20 for structure detection
INFO      2024-08-26 08:59:35 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:41 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:48 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:49 - [unstructured_inference] (tables.py:87) padding image by 20 for structure detection
INFO      2024-08-26 08:59:54 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 08:59:59 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 09:00:04 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 09:00:10 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 09:00:16 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 09:00:21 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 09:00:26 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
INFO      2024-08-26 09:00:30 - [unstructured] (tesseract_ocr.py:47) Processing entire page OCR with tesseract...
ERROR     2024-08-26 09:00:35 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 41, in parse_document_unstructured
    return partition(**opts)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 426, in partition
    elements = _partition_pdf(
               ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/documents/elements.py", line 570, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 622, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 582, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/chunking/dispatch.py", line 83, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 201, in partition_pdf
    return partition_pdf_or_image(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 309, in partition_pdf_or_image
    out_elements = _process_uncategorized_text_elements(elements)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 592, in _process_uncategorized_text_elements
    new_el = element_from_text(cast(Text, el).text)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text.py", line 294, in element_from_text
    elif is_possible_narrative_text(text):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text_type.py", line 80, in is_possible_narrative_text
    if exceeds_cap_ratio(text, threshold=cap_threshold):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text_type.py", line 276, in exceeds_cap_ratio
    if sentence_count(text, 3) > 1:
       ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text_type.py", line 225, in sentence_count
    sentences = sent_tokenize(text)
                ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/nlp/tokenize.py", line 30, in sent_tokenize
    return _sent_tokenize(text)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/__init__.py", line 119, in sent_tokenize
    tokenizer = _get_punkt_tokenizer(language)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/__init__.py", line 105, in _get_punkt_tokenizer
    return PunktTokenizer(language)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/punkt.py", line 1744, in __init__
    self.load_lang(lang)
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/punkt.py", line 1749, in load_lang
    lang_dir = find(f"tokenizers/punkt_tab/{lang}/")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/data.py", line 579, in find
    raise LookupError(resource_not_found)
LookupError: 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************

WARNING   2024-08-26 09:00:35 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 41, in parse_document_unstructured
    return partition(**opts)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 426, in partition
    elements = _partition_pdf(
               ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/documents/elements.py", line 570, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 622, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 582, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/chunking/dispatch.py", line 83, in wrapper
    elements = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 201, in partition_pdf
    return partition_pdf_or_image(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 309, in partition_pdf_or_image
    out_elements = _process_uncategorized_text_elements(elements)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/pdf.py", line 592, in _process_uncategorized_text_elements
    new_el = element_from_text(cast(Text, el).text)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text.py", line 294, in element_from_text
    elif is_possible_narrative_text(text):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text_type.py", line 80, in is_possible_narrative_text
    if exceeds_cap_ratio(text, threshold=cap_threshold):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text_type.py", line 276, in exceeds_cap_ratio
    if sentence_count(text, 3) > 1:
       ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/text_type.py", line 225, in sentence_count
    sentences = sent_tokenize(text)
                ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/nlp/tokenize.py", line 30, in sent_tokenize
    return _sent_tokenize(text)
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/__init__.py", line 119, in sent_tokenize
    tokenizer = _get_punkt_tokenizer(language)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/__init__.py", line 105, in _get_punkt_tokenizer
    return PunktTokenizer(language)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/punkt.py", line 1744, in __init__
    self.load_lang(lang)
  File "/usr/local/lib/python3.11/site-packages/nltk/tokenize/punkt.py", line 1749, in load_lang
    lang_dir = find(f"tokenizers/punkt_tab/{lang}/")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/nltk/data.py", line 579, in find
    raise LookupError(resource_not_found)
LookupError: 
**********************************************************************
  Resource [93mpunkt_tab[0m not found.
  Please use the NLTK Downloader to obtain the resource:

  [31m>>> import nltk
  >>> nltk.download('punkt_tab')
  [0m
  For more information see: https://www.nltk.org/data.html

  Attempted to load [93mtokenizers/punkt_tab/english/[0m

  Searched in:
    - '/root/nltk_data'
    - '/usr/local/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/local/lib/nltk_data'
    - '/usr/share/nltk_data'
    - '/usr/local/share/nltk_data'
    - '/usr/lib/nltk_data'
    - '/usr/local/lib/nltk_data'
**********************************************************************

INFO      2024-08-26 09:08:40 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 09:18:15 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 09:18:15 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 09:18:15 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 09:18:15 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 09:18:15 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 09:27:46 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: c45bfe4faa084ccf8b4535458720146a
INFO      2024-08-26 09:27:46 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 09:27:46 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 09:27:47 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:27:47 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
WARNING   2024-08-26 09:27:48 - [unstructured] (auto.py:165) The pdf_infer_table_structure kwarg is deprecated. Please use skip_infer_table_types instead.
ERROR     2024-08-26 09:27:48 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: failed to find libmagic.  Check your installation
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 41, in parse_document_unstructured
    return partition(**opts)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 186, in partition
    file_type = detect_filetype(
                ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 100, in detect_filetype
    return _FileTypeDetector.file_type(ctx)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 133, in file_type
    return cls(ctx)._file_type
           ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 143, in _file_type
    if file_type := self._file_type_from_guessed_mime_type:
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 183, in _file_type_from_guessed_mime_type
    mime_type = self._ctx.mime_type
                ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/utils.py", line 155, in __get__
    value = self._fget(obj)
            ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 364, in mime_type
    import magic
  File "/usr/local/lib/python3.11/site-packages/magic/__init__.py", line 209, in <module>
    libmagic = loader.load_lib()
               ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/magic/loader.py", line 49, in load_lib
    raise ImportError('failed to find libmagic.  Check your installation')
ImportError: failed to find libmagic.  Check your installation
WARNING   2024-08-26 09:27:48 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown failed to find libmagic.  Check your installation
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 101, in _process_document
    await service.ingest(doc_file)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/services.py", line 20, in ingest
    return await self._rag.rag_pipeline.ingest(document, **ingest_opts)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 94, in ingest
    parsed_doc = await self._ingest_document(document_file, **unstructured_ingest_options)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/pipeline.py", line 106, in _ingest_document
    return await aingest_document(filename=filename, **options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 51, in aingest_document
    return await asyncio.get_event_loop().run_in_executor(None, partial(parse_document_unstructured, **parser_options))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rag_langchain_baseline/doc_analyze.py", line 41, in parse_document_unstructured
    return partition(**opts)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/partition/auto.py", line 186, in partition
    file_type = detect_filetype(
                ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 100, in detect_filetype
    return _FileTypeDetector.file_type(ctx)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 133, in file_type
    return cls(ctx)._file_type
           ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 143, in _file_type
    if file_type := self._file_type_from_guessed_mime_type:
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 183, in _file_type_from_guessed_mime_type
    mime_type = self._ctx.mime_type
                ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/utils.py", line 155, in __get__
    value = self._fget(obj)
            ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/unstructured/file_utils/filetype.py", line 364, in mime_type
    import magic
  File "/usr/local/lib/python3.11/site-packages/magic/__init__.py", line 209, in <module>
    libmagic = loader.load_lib()
               ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/magic/loader.py", line 49, in load_lib
    raise ImportError('failed to find libmagic.  Check your installation')
ImportError: failed to find libmagic.  Check your installation
INFO      2024-08-26 09:29:49 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 09:39:29 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 09:39:29 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 09:39:29 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 09:39:29 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 09:39:29 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 09:39:55 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 32a926498e284310b518a90c5181cd86
INFO      2024-08-26 09:39:55 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 09:39:56 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 09:39:57 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:39:57 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
WARNING   2024-08-26 09:39:59 - [unstructured] (auto.py:165) The pdf_infer_table_structure kwarg is deprecated. Please use skip_infer_table_types instead.
INFO      2024-08-26 09:40:14 - [pikepdf._core] (__init__.py:13) pikepdf C++ to Python logger bridge initialized
INFO      2024-08-26 09:40:35 - [unstructured_inference] (layout.py:59) Reading PDF for file: /tmp/tmpri4hqf80upload_jeyp4ay8.pdf ...
INFO      2024-08-26 09:41:29 - [unstructured_inference] (tables.py:138) Loading the Table agent ...
INFO      2024-08-26 09:41:29 - [unstructured_inference] (tables.py:67) Loading the table structure model ...
INFO      2024-08-26 09:41:30 - [timm.models._builder] (_builder.py:196) Loading pretrained weights from Hugging Face hub (timm/resnet18.a1_in1k)
INFO      2024-08-26 09:41:30 - [timm.models._hub] (_hub.py:184) [timm/resnet18.a1_in1k] Safe alternative available for 'pytorch_model.bin' (as 'model.safetensors'). Loading weights using safetensors.
INFO      2024-08-26 09:41:30 - [timm.models._builder] (_builder.py:254) Missing keys (fc.weight, fc.bias) discovered while loading pretrained weights. This is expected if model is being adapted.
INFO      2024-08-26 09:41:53 - [rag_langchain_baseline.pipeline] (pipeline.py:96) Adding to vectorstore...
INFO      2024-08-26 09:41:53 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [9dbb01040e35bb0561531f99d98f686a]...
INFO      2024-08-26 09:41:55 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:41:55 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [b10031a6e81591b5990d74abc620494c]...
INFO      2024-08-26 09:41:57 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:41:57 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [d055c6f36c4aa43ee8e4407badd8c349]...
INFO      2024-08-26 09:41:59 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:41:59 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [2d7fc42c7234212c50fee2d73a86ed25]...
INFO      2024-08-26 09:42:02 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:02 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [da81f7a727e99dc10c3b720fc0a818a0]...
INFO      2024-08-26 09:42:04 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:10 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:10 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:10 - [rag_langchain_using_summary.pipeline] (pipeline.py:88) Summarizing table id [b10031a6e81591b5990d74abc620494c]...
INFO      2024-08-26 09:42:13 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:13 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:14 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:15 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:15 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:16 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:17 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:18 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:18 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:19 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:20 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:21 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:21 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:22 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:23 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:25 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:25 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:26 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:27 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:28 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:28 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:30 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:31 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:32 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:32 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:34 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:34 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:35 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:42:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 09:46:52 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 5496f41e772640948d25e7e436ca4ad2
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 09:46:52 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:46:52 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
WARNING   2024-08-26 09:46:52 - [unstructured] (auto.py:165) The pdf_infer_table_structure kwarg is deprecated. Please use skip_infer_table_types instead.
INFO      2024-08-26 09:46:54 - [unstructured_inference] (layout.py:59) Reading PDF for file: /tmp/tmpnv3pm0srupload_bqra41s4.pdf ...
INFO      2024-08-26 09:48:04 - [rag_langchain_baseline.pipeline] (pipeline.py:96) Adding to vectorstore...
INFO      2024-08-26 09:48:04 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [b910d27e512a7bc2a6fe5550696cac48]...
INFO      2024-08-26 09:48:08 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:08 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [ccd10dd671f946970a23415c0c685571]...
INFO      2024-08-26 09:48:12 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:12 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [fc9fd4f873fd490035f695e29f5576a1]...
INFO      2024-08-26 09:48:15 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:15 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:16 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:17 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:18 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:19 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:19 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:20 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:20 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:21 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:22 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:23 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:23 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:25 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:26 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:27 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:27 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:28 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:29 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:29 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:30 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:31 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:31 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:32 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:33 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:33 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:34 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:35 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 09:48:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 10:15:17 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: d7d3f4927d974c3c882e65872434ca7b
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 10:15:17 - [rag_langchain_using_summary.pipeline] (pipeline.py:101) Pipeline extra kwargs: {'auxiliary_language_model': None, 'auxiliary_embedding_model': None}
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 10:15:17 - [rag_langchain_baseline.pipeline] (pipeline.py:93) Ingesting documents...
WARNING   2024-08-26 10:15:17 - [unstructured] (auto.py:165) The pdf_infer_table_structure kwarg is deprecated. Please use skip_infer_table_types instead.
INFO      2024-08-26 10:15:21 - [unstructured_inference] (layout.py:59) Reading PDF for file: /tmp/tmpn00oosjgupload_ud1s_fuh.pdf ...
INFO      2024-08-26 10:19:39 - [rag_langchain_baseline.pipeline] (pipeline.py:96) Adding to vectorstore...
INFO      2024-08-26 10:19:39 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [d15246876358f6fa4197755cef10683a]...
INFO      2024-08-26 10:19:42 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:42 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [dde291b82d684e355fca8eacde2bfd64]...
INFO      2024-08-26 10:19:43 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:43 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [696c225b0dea3665f0b02ba479e85fab]...
INFO      2024-08-26 10:19:45 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:45 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [e280d40195c12e0de5a21431dc60b2ca]...
INFO      2024-08-26 10:19:47 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:47 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [30b89886317ab9989331021f319c581d]...
INFO      2024-08-26 10:19:49 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:49 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [99e9d4769734a9b4da1250ffc7470a06]...
INFO      2024-08-26 10:19:51 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:51 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [3df9ef18ec0ef291cfeff3630000528a]...
INFO      2024-08-26 10:19:54 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:54 - [rag_langchain_using_summary.pipeline] (pipeline.py:60) Summarizing text id [9389f18ac70a509f8fa212c9f3674fe5]...
INFO      2024-08-26 10:19:56 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:57 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:58 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:19:58 - [rag_langchain_using_summary.pipeline] (pipeline.py:88) Summarizing table id [dde291b82d684e355fca8eacde2bfd64]...
INFO      2024-08-26 10:20:01 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:01 - [rag_langchain_using_summary.pipeline] (pipeline.py:88) Summarizing table id [e280d40195c12e0de5a21431dc60b2ca]...
INFO      2024-08-26 10:20:04 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:04 - [rag_langchain_using_summary.pipeline] (pipeline.py:88) Summarizing table id [3df9ef18ec0ef291cfeff3630000528a]...
INFO      2024-08-26 10:20:04 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:05 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:06 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:07 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:07 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:08 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:08 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:09 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:10 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:11 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:11 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:12 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:14 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:15 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:15 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:16 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:17 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:18 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:20 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:21 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:21 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:22 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:23 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:24 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:25 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:26 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:27 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:27 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:28 - [httpx] (_client.py:1773) HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
INFO      2024-08-26 10:20:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 05:26:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 05:26:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 06:04:30 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 06:16:32 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 06:16:32 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 06:16:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 06:16:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 06:16:32 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 06:17:23 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 06:17:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 06:17:25 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:01:19 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:04:05 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:04:05 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:04:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:05:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:10:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:10:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:10:31 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:26:37 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:26:37 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:26:38 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:32:06 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:37:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:37:28 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:37:29 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 07:39:22 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 07:39:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 07:39:23 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 08:03:11 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:17:21 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:17:21 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:17:21 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:17:21 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:17:21 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:18:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 08:18:41 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 08:18:42 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 08:27:46 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:29:11 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:29:11 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:29:11 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:29:11 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:29:11 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:31:07 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:32:32 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:32:32 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:32:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:32:32 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:32:32 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:33:19 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 08:49:45 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 08:49:45 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 08:49:45 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 08:49:45 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 08:49:45 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 08:50:01 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 08:50:01 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 08:50:03 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 08:52:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 08:56:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:08:40 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 09:18:15 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 09:18:15 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 09:18:15 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 09:18:15 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 09:18:15 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 09:27:46 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 09:27:46 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 09:27:47 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:29:49 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-26 09:39:29 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-26 09:39:29 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-26 09:39:29 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-26 09:39:29 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-26 09:39:29 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-26 09:39:55 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 09:39:56 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 09:39:57 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:42:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 09:46:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 09:48:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:92) Creating Pipeline from 'rag_langchain_using_summary'...
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:133) Using language model: <class 'langchain_openai.chat_models.base.ChatOpenAI'>
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:138) Using embedding model: <class 'langchain_openai.embeddings.base.OpenAIEmbeddings'>
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-26 10:15:17 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-26 10:20:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-26 05:16:15 - [Uvicorn/Access] 192.168.0.106:60626 - "GET /docs HTTP/1.1" 200 OK
INFO      2024-08-26 05:16:15 - [Uvicorn/Access] 192.168.0.106:60626 - "GET /openapi.json HTTP/1.1" 200 OK
INFO      2024-08-26 05:26:40 - [Uvicorn/Access] 172.21.0.1:41668 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 05:26:52 - [Uvicorn/Access] 172.21.0.1:43972 - "GET /task/a4caae028ebc41e092a9975985c59ccd/status HTTP/1.1" 200 OK
INFO      2024-08-26 05:26:52 - [Uvicorn/Access] 172.21.0.1:43972 - "GET /task/a4caae028ebc41e092a9975985c59ccd/result HTTP/1.1" 200 OK
INFO      2024-08-26 05:31:15 - [Uvicorn/Access] 192.168.0.106:61189 - "GET /task/a4caae028ebc41e092a9975985c59ccd/status HTTP/1.1" 200 OK
INFO      2024-08-26 06:17:23 - [Uvicorn/Access] 172.21.0.1:57494 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 06:17:35 - [Uvicorn/Access] 172.21.0.1:42290 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/status HTTP/1.1" 200 OK
INFO      2024-08-26 06:17:35 - [Uvicorn/Access] 172.21.0.1:42290 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 06:20:09 - [Uvicorn/Access] 192.168.0.106:62106 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/status HTTP/1.1" 200 OK
INFO      2024-08-26 06:55:49 - [Uvicorn/Access] 192.168.0.106:63131 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/status HTTP/1.1" 200 OK
INFO      2024-08-26 06:56:15 - [Uvicorn/Access] 192.168.0.106:63147 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/result?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-26 06:58:22 - [Uvicorn/Access] 192.168.0.106:63186 - "GET /task/77fec75337ec4075ae69482ecbf91fb7/status HTTP/1.1" 404 Not Found
INFO      2024-08-26 07:01:19 - [Uvicorn/Access] 172.21.0.1:51986 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:01:31 - [Uvicorn/Access] 172.21.0.1:43278 - "GET /task/fb8c0c747c72474daab63e6f9ac87a28/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:01:31 - [Uvicorn/Access] 172.21.0.1:43278 - "GET /task/fb8c0c747c72474daab63e6f9ac87a28/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:02:49 - [Uvicorn/Access] 172.21.0.1:35902 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:02:49 - [Uvicorn/Access] 172.21.0.1:35902 - "GET /task/77fec75337ec4075ae69482ecbf91fb8/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:04:05 - [Uvicorn/Access] 172.21.0.1:51170 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:04:17 - [Uvicorn/Access] 172.21.0.1:52586 - "GET /task/c00935acfd7e4249b09f7c3601b585c1/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:04:17 - [Uvicorn/Access] 172.21.0.1:52586 - "GET /task/c00935acfd7e4249b09f7c3601b585c1/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:05:43 - [Uvicorn/Access] 172.21.0.1:60284 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:05:58 - [Uvicorn/Access] 172.21.0.1:53358 - "GET /task/35890ccc354c4d3da6be49fe8b3a0c97/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:05:58 - [Uvicorn/Access] 172.21.0.1:53358 - "GET /task/35890ccc354c4d3da6be49fe8b3a0c97/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:10:30 - [Uvicorn/Access] 172.21.0.1:54282 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:10:42 - [Uvicorn/Access] 172.21.0.1:37958 - "GET /task/c72afc38cee046b9a8da2eca1f906fb0/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:10:42 - [Uvicorn/Access] 172.21.0.1:37958 - "GET /task/c72afc38cee046b9a8da2eca1f906fb0/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:26:37 - [Uvicorn/Access] 172.21.0.1:48652 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:26:50 - [Uvicorn/Access] 172.21.0.1:40680 - "GET /task/44294935f52c4a11bfddb4f13ed0f43e/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:26:50 - [Uvicorn/Access] 172.21.0.1:40680 - "GET /task/44294935f52c4a11bfddb4f13ed0f43e/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:32:06 - [Uvicorn/Access] 172.21.0.1:59328 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:32:18 - [Uvicorn/Access] 172.21.0.1:37848 - "GET /task/193cccc0a0f14caab89ca8c4b00742aa/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:32:18 - [Uvicorn/Access] 172.21.0.1:37848 - "GET /task/193cccc0a0f14caab89ca8c4b00742aa/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:37:28 - [Uvicorn/Access] 172.21.0.1:35500 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:37:40 - [Uvicorn/Access] 172.21.0.1:60946 - "GET /task/25e516635a2f443881cc401f34a6ac09/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:37:40 - [Uvicorn/Access] 172.21.0.1:60946 - "GET /task/25e516635a2f443881cc401f34a6ac09/result HTTP/1.1" 200 OK
INFO      2024-08-26 07:39:22 - [Uvicorn/Access] 172.21.0.1:40688 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 07:44:55 - [Uvicorn/Access] 172.21.0.1:48742 - "GET /task/98a3407804b149619f3c3c2683352874/status HTTP/1.1" 200 OK
INFO      2024-08-26 07:44:55 - [Uvicorn/Access] 172.21.0.1:48742 - "GET /task/98a3407804b149619f3c3c2683352874/result HTTP/1.1" 200 OK
INFO      2024-08-26 08:18:40 - [Uvicorn/Access] 172.21.0.1:41472 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 08:18:53 - [Uvicorn/Access] 172.21.0.1:43616 - "GET /task/ab78340c441741e3a5e4b79758bcf142/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:18:53 - [Uvicorn/Access] 172.21.0.1:43616 - "GET /task/ab78340c441741e3a5e4b79758bcf142/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 08:19:05 - [Uvicorn/Access] 172.21.0.1:37842 - "GET /task/ab78340c441741e3a5e4b79758bcf142/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:19:05 - [Uvicorn/Access] 172.21.0.1:37842 - "GET /task/ab78340c441741e3a5e4b79758bcf142/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 08:19:17 - [Uvicorn/Access] 172.21.0.1:56866 - "GET /task/ab78340c441741e3a5e4b79758bcf142/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:19:17 - [Uvicorn/Access] 172.21.0.1:56866 - "GET /task/ab78340c441741e3a5e4b79758bcf142/result HTTP/1.1" 200 OK
INFO      2024-08-26 08:50:01 - [Uvicorn/Access] 172.21.0.1:54070 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 08:54:20 - [Uvicorn/Access] 172.21.0.1:48922 - "GET /task/8f2df3e70a054d67b79195e7cca8b6d0/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:54:20 - [Uvicorn/Access] 172.21.0.1:48922 - "GET /task/8f2df3e70a054d67b79195e7cca8b6d0/result HTTP/1.1" 200 OK
INFO      2024-08-26 08:56:21 - [Uvicorn/Access] 172.21.0.1:49310 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 08:56:33 - [Uvicorn/Access] 172.21.0.1:38718 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:56:33 - [Uvicorn/Access] 172.21.0.1:38718 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 08:57:46 - [Uvicorn/Access] 172.21.0.1:56282 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:57:46 - [Uvicorn/Access] 172.21.0.1:56282 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 08:57:57 - [Uvicorn/Access] 172.21.0.1:34744 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:57:57 - [Uvicorn/Access] 172.21.0.1:34744 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 08:58:09 - [Uvicorn/Access] 172.21.0.1:38998 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:58:09 - [Uvicorn/Access] 172.21.0.1:38998 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 08:59:57 - [Uvicorn/Access] 172.21.0.1:40520 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 08:59:57 - [Uvicorn/Access] 172.21.0.1:40520 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 09:00:09 - [Uvicorn/Access] 172.21.0.1:54894 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:00:09 - [Uvicorn/Access] 172.21.0.1:54894 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 09:00:21 - [Uvicorn/Access] 172.21.0.1:34032 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:00:21 - [Uvicorn/Access] 172.21.0.1:34032 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 09:03:00 - [Uvicorn/Access] 172.21.0.1:32942 - "GET /task/e3bfb757057e403c9387f76b826021b5/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:03:00 - [Uvicorn/Access] 172.21.0.1:32942 - "GET /task/e3bfb757057e403c9387f76b826021b5/result HTTP/1.1" 200 OK
INFO      2024-08-26 09:27:46 - [Uvicorn/Access] 172.21.0.1:52686 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 09:27:58 - [Uvicorn/Access] 172.21.0.1:37008 - "GET /task/c45bfe4faa084ccf8b4535458720146a/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:27:58 - [Uvicorn/Access] 172.21.0.1:37008 - "GET /task/c45bfe4faa084ccf8b4535458720146a/result HTTP/1.1" 200 OK
INFO      2024-08-26 09:39:55 - [Uvicorn/Access] 172.21.0.1:33210 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 09:41:05 - [Uvicorn/Access] 172.21.0.1:39868 - "GET /task/32a926498e284310b518a90c5181cd86/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:41:05 - [Uvicorn/Access] 172.21.0.1:39868 - "GET /task/32a926498e284310b518a90c5181cd86/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 09:45:44 - [Uvicorn/Access] 172.21.0.1:45334 - "GET /task/32a926498e284310b518a90c5181cd86/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:45:44 - [Uvicorn/Access] 172.21.0.1:45334 - "GET /task/32a926498e284310b518a90c5181cd86/result HTTP/1.1" 200 OK
INFO      2024-08-26 09:46:52 - [Uvicorn/Access] 172.21.0.1:50128 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 09:47:04 - [Uvicorn/Access] 172.21.0.1:55858 - "GET /task/5496f41e772640948d25e7e436ca4ad2/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:47:04 - [Uvicorn/Access] 172.21.0.1:55858 - "GET /task/5496f41e772640948d25e7e436ca4ad2/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 09:50:08 - [Uvicorn/Access] 172.21.0.1:54300 - "GET /task/5496f41e772640948d25e7e436ca4ad2/status HTTP/1.1" 200 OK
INFO      2024-08-26 09:50:08 - [Uvicorn/Access] 172.21.0.1:54300 - "GET /task/5496f41e772640948d25e7e436ca4ad2/result HTTP/1.1" 200 OK
INFO      2024-08-26 10:15:17 - [Uvicorn/Access] 172.21.0.1:39358 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-26 10:15:29 - [Uvicorn/Access] 172.21.0.1:34980 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/status HTTP/1.1" 200 OK
INFO      2024-08-26 10:15:29 - [Uvicorn/Access] 172.21.0.1:34980 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 10:15:41 - [Uvicorn/Access] 172.21.0.1:41774 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/status HTTP/1.1" 200 OK
INFO      2024-08-26 10:15:41 - [Uvicorn/Access] 172.21.0.1:41774 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 10:15:53 - [Uvicorn/Access] 172.21.0.1:49314 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/status HTTP/1.1" 200 OK
INFO      2024-08-26 10:15:53 - [Uvicorn/Access] 172.21.0.1:49314 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/result HTTP/1.1" 202 Accepted
INFO      2024-08-26 10:21:59 - [Uvicorn/Access] 172.21.0.1:42436 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/status HTTP/1.1" 200 OK
INFO      2024-08-26 10:21:59 - [Uvicorn/Access] 172.21.0.1:42436 - "GET /task/d7d3f4927d974c3c882e65872434ca7b/result HTTP/1.1" 200 OK
INFO      2024-08-25 18:32:49 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 79c0a2e0273f45f08bc11d7baf3cd566
INFO      2024-08-25 18:32:49 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 18:32:50 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-25 18:32:50 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-25 18:32:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 18:35:27 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 91b74e768a334223a6741b387f6560ba
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 18:35:27 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-25 18:35:27 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-25 18:35:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 19:04:17 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 1428de89c93f4b48a0e862dc488fee2f
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 19:04:17 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-25 19:04:17 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-25 19:04:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 19:18:02 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: c98161959dfd411d9619e81c28001d7a
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 19:18:02 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-25 19:18:02 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-25 19:18:05 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 19:53:40 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: c54d56af991e4a8cbcf9d09476e4f4f8
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 19:53:40 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-25 19:53:40 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-25 19:53:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 18:32:49 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 18:32:50 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 18:32:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:32:52 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 18:35:27 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 18:35:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 18:35:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 19:04:17 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 19:04:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:04:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 19:18:02 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 19:18:05 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:18:05 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-25 19:53:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-25 19:53:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-25 19:53:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-25 17:43:10 - [Uvicorn/Access] 192.168.0.106:56903 - "GET /docs HTTP/1.1" 200 OK
INFO      2024-08-25 17:43:11 - [Uvicorn/Access] 192.168.0.106:56903 - "GET /openapi.json HTTP/1.1" 200 OK
INFO      2024-08-25 17:47:14 - [Uvicorn/Access] 192.168.0.106:56986 - "GET /task/04456b125fbf4443a40d359f26e20b78/result?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-25 17:49:15 - [Uvicorn/Access] 192.168.0.106:57049 - "GET /task/04456b125fbf4443a40d359f26e20b78/status HTTP/1.1" 200 OK
INFO      2024-08-25 17:51:23 - [Uvicorn/Access] 172.21.0.1:52780 - "GET /task/04456b125fbf4443a40d359f26e20b78/status HTTP/1.1" 200 OK
INFO      2024-08-25 17:51:23 - [Uvicorn/Access] 172.21.0.1:52780 - "GET /task/04456b125fbf4443a40d359f26e20b78/result HTTP/1.1" 200 OK
INFO      2024-08-25 18:01:42 - [Uvicorn/Access] 172.21.0.1:35748 - "GET /task/04456b125fbf4443a40d359f26e20b78/status HTTP/1.1" 200 OK
INFO      2024-08-25 18:01:42 - [Uvicorn/Access] 172.21.0.1:35748 - "GET /task/04456b125fbf4443a40d359f26e20b78/result HTTP/1.1" 200 OK
INFO      2024-08-25 18:03:20 - [Uvicorn/Access] 192.168.0.106:57363 - "GET /task/04456b125fbf4443a40d359f26e20b78/is_ready?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-25 18:03:23 - [Uvicorn/Access] 192.168.0.106:57363 - "GET /task/04456b125fbf4443a40d359f26e20b7/is_ready?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-25 18:32:49 - [Uvicorn/Access] 172.21.0.1:51578 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-25 18:35:27 - [Uvicorn/Access] 172.21.0.1:51758 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-25 18:35:38 - [Uvicorn/Access] 172.21.0.1:40818 - "GET /task/91b74e768a334223a6741b387f6560ba/status HTTP/1.1" 200 OK
INFO      2024-08-25 18:35:38 - [Uvicorn/Access] 172.21.0.1:40818 - "GET /task/91b74e768a334223a6741b387f6560ba/result HTTP/1.1" 200 OK
INFO      2024-08-25 19:04:17 - [Uvicorn/Access] 172.21.0.1:52158 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-25 19:04:27 - [Uvicorn/Access] 172.21.0.1:42194 - "GET /task/1428de89c93f4b48a0e862dc488fee2f/status HTTP/1.1" 200 OK
INFO      2024-08-25 19:04:27 - [Uvicorn/Access] 172.21.0.1:42194 - "GET /task/1428de89c93f4b48a0e862dc488fee2f/result HTTP/1.1" 200 OK
INFO      2024-08-25 19:18:02 - [Uvicorn/Access] 172.21.0.1:35358 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-25 19:18:14 - [Uvicorn/Access] 172.21.0.1:36376 - "GET /task/c98161959dfd411d9619e81c28001d7a/status HTTP/1.1" 200 OK
INFO      2024-08-25 19:18:14 - [Uvicorn/Access] 172.21.0.1:36376 - "GET /task/c98161959dfd411d9619e81c28001d7a/result HTTP/1.1" 200 OK
INFO      2024-08-25 19:53:40 - [Uvicorn/Access] 172.21.0.1:38348 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-25 19:53:52 - [Uvicorn/Access] 172.21.0.1:58066 - "GET /task/c54d56af991e4a8cbcf9d09476e4f4f8/status HTTP/1.1" 200 OK
INFO      2024-08-25 19:53:52 - [Uvicorn/Access] 172.21.0.1:58066 - "GET /task/c54d56af991e4a8cbcf9d09476e4f4f8/result HTTP/1.1" 200 OK
INFO      2024-08-23 05:59:57 - [Uvicorn] Shutting down
INFO      2024-08-23 05:59:57 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-23 05:59:57 - [Uvicorn] Application shutdown complete.
INFO      2024-08-23 05:59:57 - [Uvicorn] Finished server process [7]
INFO      2024-08-23 06:06:18 - [Uvicorn] Started server process [7]
INFO      2024-08-23 06:06:18 - [Uvicorn] Waiting for application startup.
INFO      2024-08-23 06:06:18 - [Uvicorn] Application startup complete.
INFO      2024-08-23 06:06:18 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-23 06:18:06 - [Uvicorn] Shutting down
INFO      2024-08-23 06:18:07 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-23 06:18:07 - [Uvicorn] Application shutdown complete.
INFO      2024-08-23 06:18:07 - [Uvicorn] Finished server process [7]
INFO      2024-08-23 09:06:47 - [Uvicorn] Started server process [7]
INFO      2024-08-23 09:06:47 - [Uvicorn] Waiting for application startup.
INFO      2024-08-23 09:06:47 - [Uvicorn] Application startup complete.
INFO      2024-08-23 09:06:47 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-23 03:33:59 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: d3ed983baaea440baf6ce452639c736a
INFO      2024-08-23 03:33:59 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
ERROR     2024-08-23 03:33:59 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 203, in task_process_documents
    await doc_process.create_tables()
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 73, in create_tables
    await execute_factory_ddl(connection)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/db_stored_queries.py", line 8, in execute_factory_ddl
    async with aiofiles.open("./db/ddl/customer/document_process.sql", "r") as f:
  File "/usr/local/lib/python3.11/site-packages/aiofiles/base.py", line 98, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiofiles/threadpool/__init__.py", line 94, in _open
    f = yield from loop.run_in_executor(executor, cb)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
WARNING   2024-08-23 03:33:59 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 203, in task_process_documents
    await doc_process.create_tables()
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 73, in create_tables
    await execute_factory_ddl(connection)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/db_stored_queries.py", line 8, in execute_factory_ddl
    async with aiofiles.open("./db/ddl/customer/document_process.sql", "r") as f:
  File "/usr/local/lib/python3.11/site-packages/aiofiles/base.py", line 98, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiofiles/threadpool/__init__.py", line 94, in _open
    f = yield from loop.run_in_executor(executor, cb)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
INFO      2024-08-23 05:51:57 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: d0aa86ea33fc4d0996fd8ad02be53993
INFO      2024-08-23 05:51:57 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
ERROR     2024-08-23 05:51:57 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 203, in task_process_documents
    await doc_process.create_tables()
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 73, in create_tables
    await execute_factory_ddl(connection)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/db_stored_queries.py", line 8, in execute_factory_ddl
    async with aiofiles.open("./db/ddl/customer/document_process.sql", "r") as f:
  File "/usr/local/lib/python3.11/site-packages/aiofiles/base.py", line 98, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiofiles/threadpool/__init__.py", line 94, in _open
    f = yield from loop.run_in_executor(executor, cb)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
WARNING   2024-08-23 05:51:57 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 203, in task_process_documents
    await doc_process.create_tables()
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 73, in create_tables
    await execute_factory_ddl(connection)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/db_stored_queries.py", line 8, in execute_factory_ddl
    async with aiofiles.open("./db/ddl/customer/document_process.sql", "r") as f:
  File "/usr/local/lib/python3.11/site-packages/aiofiles/base.py", line 98, in __aenter__
    self._obj = await self._coro
                ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiofiles/threadpool/__init__.py", line 94, in _open
    f = yield from loop.run_in_executor(executor, cb)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: './db/ddl/customer/document_process.sql'
INFO      2024-08-23 05:59:57 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-23 06:06:18 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-23 06:06:18 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-23 06:06:18 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-23 06:06:18 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-23 06:06:18 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-23 06:14:43 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: de94c5385ffb4d4ebab487131f581866
INFO      2024-08-23 06:14:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
ERROR     2024-08-23 06:15:05 - [taskiq.receiver.receiver] (receiver.py:281) Exception found while executing function: Failed to import transformers.models.clip.processing_clip because of the following error (look up to see its traceback):
operator torchvision::nms does not exist
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1603, in _get_module
    return importlib.import_module("." + module_name, self.__name__)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/usr/local/lib/python3.11/site-packages/transformers/models/clip/processing_clip.py", line 21, in <module>
    from ...processing_utils import ProcessorMixin
  File "/usr/local/lib/python3.11/site-packages/transformers/processing_utils.py", line 30, in <module>
    from .image_utils import ChannelDimension, is_vision_available
  File "/usr/local/lib/python3.11/site-packages/transformers/image_utils.py", line 58, in <module>
    from torchvision.transforms import InterpolationMode
  File "/usr/local/lib/python3.11/site-packages/torchvision/__init__.py", line 10, in <module>
    from torchvision import _meta_registrations, datasets, io, models, ops, transforms, utils  # usort:skip
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/torchvision/_meta_registrations.py", line 163, in <module>
    @torch.library.register_fake("torchvision::nms")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/torch/library.py", line 654, in register
    use_lib._register_fake(op_name, func, _stacklevel=stacklevel + 1)
  File "/usr/local/lib/python3.11/site-packages/torch/library.py", line 154, in _register_fake
    handle = entry.abstract_impl.register(func_to_register, source)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/torch/_library/abstract_impl.py", line 31, in register
    if torch._C._dispatch_has_kernel_for_dispatch_key(self.qualname, "Meta"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: operator torchvision::nms does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 100, in _process_document
    async with self.rag_session(self._rag_config) as service, file.upload_file() as doc_file:
  File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 90, in rag_session
    session = await self._rag_session_factory(session_data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 154, in create_rag_instance_session
    retrieval_store = await run_in_threadpool(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2177, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 859, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 83, in create_retrieval_store
    return cls(vectorstore=vectorstore, default_embedding=default_embedding, retriever_options=options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/store.py", line 22, in __init__
    default_embedding = HuggingFaceEmbeddings()
                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 205, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/langchain_community/embeddings/huggingface.py", line 71, in __init__
    import sentence_transformers
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/__init__.py", line 7, in <module>
    from sentence_transformers.cross_encoder.CrossEncoder import CrossEncoder
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/cross_encoder/__init__.py", line 1, in <module>
    from .CrossEncoder import CrossEncoder
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/cross_encoder/CrossEncoder.py", line 18, in <module>
    from sentence_transformers.SentenceTransformer import SentenceTransformer
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 27, in <module>
    from sentence_transformers.model_card import SentenceTransformerModelCardData, generate_model_card
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 28, in <module>
    from sentence_transformers.models import Transformer
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/models/__init__.py", line 3, in <module>
    from .CLIPModel import CLIPModel
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/models/CLIPModel.py", line 9, in <module>
    class CLIPModel(nn.Module):
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/models/CLIPModel.py", line 79, in CLIPModel
    def tokenizer(self) -> transformers.CLIPProcessor:
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1594, in __getattr__
    value = getattr(module, name)
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1593, in __getattr__
    module = self._get_module(self._class_to_module[name])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1605, in _get_module
    raise RuntimeError(
RuntimeError: Failed to import transformers.models.clip.processing_clip because of the following error (look up to see its traceback):
operator torchvision::nms does not exist
WARNING   2024-08-23 06:15:05 - [taskiq.dependencies.ctx] (ctx.py:298) Exception found on dependency teardown Failed to import transformers.models.clip.processing_clip because of the following error (look up to see its traceback):
operator torchvision::nms does not exist
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1603, in _get_module
    return importlib.import_module("." + module_name, self.__name__)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/usr/local/lib/python3.11/site-packages/transformers/models/clip/processing_clip.py", line 21, in <module>
    from ...processing_utils import ProcessorMixin
  File "/usr/local/lib/python3.11/site-packages/transformers/processing_utils.py", line 30, in <module>
    from .image_utils import ChannelDimension, is_vision_available
  File "/usr/local/lib/python3.11/site-packages/transformers/image_utils.py", line 58, in <module>
    from torchvision.transforms import InterpolationMode
  File "/usr/local/lib/python3.11/site-packages/torchvision/__init__.py", line 10, in <module>
    from torchvision import _meta_registrations, datasets, io, models, ops, transforms, utils  # usort:skip
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/torchvision/_meta_registrations.py", line 163, in <module>
    @torch.library.register_fake("torchvision::nms")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/torch/library.py", line 654, in register
    use_lib._register_fake(op_name, func, _stacklevel=stacklevel + 1)
  File "/usr/local/lib/python3.11/site-packages/torch/library.py", line 154, in _register_fake
    handle = entry.abstract_impl.register(func_to_register, source)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/torch/_library/abstract_impl.py", line 31, in register
    if torch._C._dispatch_has_kernel_for_dispatch_key(self.qualname, "Meta"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
RuntimeError: operator torchvision::nms does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/taskiq_dependencies/ctx.py", line 294, in close
    await dep.athrow(*args)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 191, in create_db_session_manager
    yield conn
  File "/usr/local/lib/python3.11/site-packages/taskiq/receiver/receiver.py", line 271, in run_task
    returned = await target_future
               ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 204, in task_process_documents
    await doc_process.process_documents(files)
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 170, in process_documents
    await doc
  File "/usr/local/lib/python3.11/asyncio/tasks.py", line 615, in _wait_for_one
    return f.result()  # May raise f.exception().
           ^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aiodecorators/__init__.py", line 21, in wrapper
    return await f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 100, in _process_document
    async with self.rag_session(self._rag_config) as service, file.upload_file() as doc_file:
  File "/usr/local/lib/python3.11/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/document_process/tasks/document_processing.py", line 90, in rag_session
    session = await self._rag_session_factory(session_data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 154, in create_rag_instance_session
    retrieval_store = await run_in_threadpool(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2177, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 859, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/rag_session/session_factory.py", line 83, in create_retrieval_store
    return cls(vectorstore=vectorstore, default_embedding=default_embedding, retriever_options=options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/tredex_server/app/resources/rag/store.py", line 22, in __init__
    default_embedding = HuggingFaceEmbeddings()
                        ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 205, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/langchain_community/embeddings/huggingface.py", line 71, in __init__
    import sentence_transformers
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/__init__.py", line 7, in <module>
    from sentence_transformers.cross_encoder.CrossEncoder import CrossEncoder
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/cross_encoder/__init__.py", line 1, in <module>
    from .CrossEncoder import CrossEncoder
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/cross_encoder/CrossEncoder.py", line 18, in <module>
    from sentence_transformers.SentenceTransformer import SentenceTransformer
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/SentenceTransformer.py", line 27, in <module>
    from sentence_transformers.model_card import SentenceTransformerModelCardData, generate_model_card
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/model_card.py", line 28, in <module>
    from sentence_transformers.models import Transformer
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/models/__init__.py", line 3, in <module>
    from .CLIPModel import CLIPModel
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/models/CLIPModel.py", line 9, in <module>
    class CLIPModel(nn.Module):
  File "/usr/local/lib/python3.11/site-packages/sentence_transformers/models/CLIPModel.py", line 79, in CLIPModel
    def tokenizer(self) -> transformers.CLIPProcessor:
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1594, in __getattr__
    value = getattr(module, name)
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1593, in __getattr__
    module = self._get_module(self._class_to_module[name])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 1605, in _get_module
    raise RuntimeError(
RuntimeError: Failed to import transformers.models.clip.processing_clip because of the following error (look up to see its traceback):
operator torchvision::nms does not exist
INFO      2024-08-23 06:18:07 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-23 09:06:47 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-23 09:06:47 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-23 09:06:47 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-23 09:06:47 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-23 09:06:47 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-23 09:33:22 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: fb26143a723e4a6aaa1ca7e88650b07d
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 09:33:48 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 09:33:48 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 09:34:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 10:36:18 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 1805505f306644b6b1c5c35917dfe124
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 10:36:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 10:36:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 10:36:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 10:57:18 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 7d4ebe44dd454e2eb43c81b05e71a442
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 10:57:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 10:57:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 10:57:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 14:16:30 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 354db957603d4cedb9aab3cc3bc50e03
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 14:16:30 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 14:16:30 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 14:16:33 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 14:17:21 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: bbbe189cd89c45b8a1927bc8f8f99132
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 14:17:21 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 14:17:21 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 14:17:24 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 14:19:18 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 67d65491ebc5498fb3e2a2add4853036
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 14:19:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 14:19:18 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 14:19:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 19:17:32 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: e4da5d48c2434e729e4032365507cf41
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 19:17:32 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 19:17:32 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 19:17:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 19:18:40 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 0e5eea6e28b144a3b12099058aa4afd5
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 19:18:40 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 19:18:40 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 19:18:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 19:19:25 - [taskiq.receiver.receiver] (receiver.py:136) Executing task process_documents with ID: 04456b125fbf4443a40d359f26e20b78
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 19:19:25 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:189) Use pytorch device_name: cpu
INFO      2024-08-23 19:19:25 - [sentence_transformers.SentenceTransformer] (SentenceTransformer.py:197) Load pretrained SentenceTransformer: sentence-transformers/all-mpnet-base-v2
INFO      2024-08-23 19:19:27 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 03:33:59 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-23 05:51:57 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
INFO      2024-08-23 05:59:57 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-23 06:06:18 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-23 06:06:18 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-23 06:06:18 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-23 06:06:18 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-23 06:06:18 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-23 06:14:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 06:14:44 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 06:18:07 - [tredex_server.app.task_manager.lifespan] (lifespan.py:34) AsyncBroker shutting down...
INFO      2024-08-23 09:06:47 - [tredex_server.app.app_factory] (app_factory.py:20) Adding lifespan handler for "resources"...
INFO      2024-08-23 09:06:47 - [tredex_server.app.app_factory] (app_factory.py:22) Adding lifespan handler for "task_manager"...
INFO      2024-08-23 09:06:47 - [tredex_server.app.task_manager.lifespan] (lifespan.py:29) AsyncBroker starting up...
INFO      2024-08-23 09:06:47 - [tredex_server.app.task_manager.lifespan] (lifespan.py:31) Registering task routines to broker...
INFO      2024-08-23 09:06:47 - [tredex_server.app.app_factory] (app_factory.py:24) Adding lifespan handler for "tqdm_logging"...
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 09:33:22 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 09:34:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 09:34:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 10:36:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 10:36:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:36:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 10:57:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 10:57:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 10:57:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 14:16:30 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 14:16:33 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:16:33 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 14:17:21 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 14:17:24 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:17:24 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 14:19:18 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 14:19:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 14:19:20 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 19:17:32 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 19:17:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:17:35 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 19:18:40 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 19:18:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:18:43 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:180) Saving DB in-memory (content will be lost after task is done)
WARNING   2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:110) No RAG pipeline specified. Loading dummy pipeline.
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:131) Not using language model.
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:136) Not using embedding model.
INFO      2024-08-23 19:19:25 - [tredex_server.app.resources.rag.rag_session.session_factory] (session_factory.py:82) Using Retriever "RetrievalStore".
INFO      2024-08-23 19:19:27 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:92) RAG session created
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:17) Ingesting
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:27 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.rag_impl.pipeline] (pipeline.py:21) Finding answer...
INFO      2024-08-23 19:19:28 - [tredex_server.app.resources.document_process.tasks.document_processing] (document_processing.py:96) RAG session removed
INFO      2024-08-23 03:33:59 - [Uvicorn/Access] 172.21.0.1:45888 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 05:51:57 - [Uvicorn/Access] 172.21.0.1:40240 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 05:56:59 - [Uvicorn/Access] 192.168.0.106:55253 - "GET /docs HTTP/1.1" 200 OK
INFO      2024-08-23 05:56:59 - [Uvicorn/Access] 192.168.0.106:55253 - "GET /openapi.json HTTP/1.1" 200 OK
INFO      2024-08-23 05:57:06 - [Uvicorn/Access] 192.168.0.106:55255 - "GET /task/d0aa86ea33fc4d0996fd8ad02be53993/status HTTP/1.1" 200 OK
INFO      2024-08-23 05:57:17 - [Uvicorn/Access] 192.168.0.106:55257 - "GET /task/d0aa86ea33fc4d0996fd8ad02be53993/result?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-23 06:14:43 - [Uvicorn/Access] 172.21.0.1:49626 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 09:33:22 - [Uvicorn/Access] 172.21.0.1:57218 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 10:36:18 - [Uvicorn/Access] 172.21.0.1:35548 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 10:57:18 - [Uvicorn/Access] 172.21.0.1:49204 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 14:16:30 - [Uvicorn/Access] 172.21.0.1:47930 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 14:17:21 - [Uvicorn/Access] 172.21.0.1:55854 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 14:19:18 - [Uvicorn/Access] 172.21.0.1:50674 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 15:51:06 - [Uvicorn/Access] 192.168.0.106:63774 - "GET /task/67d65491ebc5498fb3e2a2add4853036/result?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-23 16:05:23 - [Uvicorn/Access] 192.168.0.106:64106 - "GET /task/d0aa86ea33fc4d0996fd8ad02be53993/status HTTP/1.1" 404 Not Found
INFO      2024-08-23 16:05:33 - [Uvicorn/Access] 192.168.0.106:64107 - "GET /task/d0aa86ea33fc4d0996fd8ad02be53993/status HTTP/1.1" 404 Not Found
INFO      2024-08-23 16:05:34 - [Uvicorn/Access] 192.168.0.106:64107 - "GET /task/d0aa86ea33fc4d0996fd8ad02be53993/status HTTP/1.1" 404 Not Found
INFO      2024-08-23 16:05:39 - [Uvicorn/Access] 192.168.0.106:64107 - "GET /task/d0aa86ea33fc4d0996fd8ad02be53993/result?blocking=false HTTP/1.1" 202 Accepted
INFO      2024-08-23 16:06:34 - [Uvicorn/Access] 192.168.0.106:64129 - "GET /task/67d65491ebc5498fb3e2a2add4853036/result?blocking=false HTTP/1.1" 200 OK
INFO      2024-08-23 16:06:41 - [Uvicorn/Access] 192.168.0.106:64130 - "GET /task/67d65491ebc5498fb3e2a2add4853036/status HTTP/1.1" 200 OK
INFO      2024-08-23 19:17:32 - [Uvicorn/Access] 172.21.0.1:41722 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 19:18:40 - [Uvicorn/Access] 172.21.0.1:59442 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-23 19:19:25 - [Uvicorn/Access] 172.21.0.1:51430 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 11:09:57 - [Uvicorn/Access] 192.168.0.106:62212 - "GET /docs HTTP/1.1" 200 OK
INFO      2024-08-22 11:09:57 - [Uvicorn/Access] 192.168.0.106:62212 - "GET /openapi.json HTTP/1.1" 200 OK
INFO      2024-08-22 11:30:50 - [Uvicorn/Access] 172.21.0.1:33876 - "POST /document/process_async HTTP/1.1" 422 Unprocessable Entity
INFO      2024-08-22 11:32:08 - [Uvicorn/Access] 172.21.0.1:38762 - "POST /document/process_async HTTP/1.1" 422 Unprocessable Entity
INFO      2024-08-22 11:33:10 - [Uvicorn/Access] 172.21.0.1:48256 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 11:42:23 - [Uvicorn/Access] 172.21.0.1:37344 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 11:43:29 - [Uvicorn/Access] 172.21.0.1:56938 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 16:05:14 - [Uvicorn/Access] 172.21.0.1:38722 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 16:11:23 - [Uvicorn/Access] 172.21.0.1:38890 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 16:15:07 - [Uvicorn/Access] 172.21.0.1:34932 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 16:19:43 - [Uvicorn/Access] 172.21.0.1:46514 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 16:34:34 - [Uvicorn/Access] 172.21.0.1:47580 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 17:50:30 - [Uvicorn/Access] 172.21.0.1:47280 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 18:42:57 - [Uvicorn/Access] 172.21.0.1:54740 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-22 18:43:04 - [Uvicorn/Access] 172.21.0.1:37948 - "POST /document/process_async HTTP/1.1" 200 OK
INFO      2024-08-18 15:06:45 - [Uvicorn/Access] 192.168.0.106:62480 - "GET /docs HTTP/1.1" 200 OK
INFO      2024-08-18 15:06:46 - [Uvicorn/Access] 192.168.0.106:62480 - "GET /openapi.json HTTP/1.1" 200 OK
ERROR     2024-08-18 14:52:36 - [Uvicorn] Error loading ASGI app. Could not import module "tredex_server".
INFO      2024-08-18 15:00:26 - [Uvicorn] Started server process [7]
INFO      2024-08-18 15:00:26 - [Uvicorn] Waiting for application startup.
INFO      2024-08-18 15:00:26 - [Uvicorn] Application startup complete.
INFO      2024-08-18 15:00:26 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
INFO      2024-08-18 16:18:09 - [Uvicorn] Shutting down
INFO      2024-08-18 16:18:09 - [Uvicorn] Waiting for application shutdown.
INFO      2024-08-18 16:18:09 - [Uvicorn] Application shutdown complete.
INFO      2024-08-18 16:18:09 - [Uvicorn] Finished server process [7]
INFO      2024-08-18 16:18:35 - [Uvicorn] Started server process [7]
INFO      2024-08-18 16:18:35 - [Uvicorn] Waiting for application startup.
INFO      2024-08-18 16:18:35 - [Uvicorn] Application startup complete.
INFO      2024-08-18 16:18:35 - [Uvicorn] Uvicorn running on http://0.0.0.0:8010 (Press CTRL+C to quit)
